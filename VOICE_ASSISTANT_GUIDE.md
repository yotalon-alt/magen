# מדריך שימוש - עוזרת קולית

## סקירה כללית
העוזרת הקולית מאפשרת שליטה קולית בכל דפי האפליקציה באמצעות פקודות בעברית.

## איך להפעיל
1. לחץ על כפתור המיקרופון (בפינה השמאלית התחתונה)
2. דבר בעברית בבירור
3. הפקודה תעובד אוטומטית כשתסיים
4. תוצג הודעה עם מה שזוהה

## פקודות זמינות לפי דף

### 🏠 דף הבית
- אין פקודות זמינות

### 📋 דף תרגילים (עמוד 1)
פקודות לפתיחת תרגיל:
- **"מעגל פתוח"** - פותח טופס משוב למעגל פתוח
- **"מעגל פרוץ"** או **"פרוץ"** - פותח טופס משוב למעגל פרוץ
- **"סריקות"** - פותח טופס משוב לסריקות רחוב
- **"מיונים"** או **"מדריכים"** - פותח טופס מיונים לקורס מדריכים

**דוגמאות:**
```
"פתח מעגל פתוח"
"תרגיל מעגל פרוץ"
"הצג סריקות רחוב"
```

### 📝 דף משובים (עמוד 2)
פקודות לסינון משובים:
- **"סנן מעגל פתוח"** - מציג רק משובי מעגל פתוח
- **"הצג מעגל פרוץ"** - מציג רק משובי מעגל פרוץ
- **"סנן סריקות"** - מציג רק משובי סריקות רחוב
- **"הצג מיונים"** - מציג משובי מיונים
- **"סנן כללי"** - מציג משובים כלליים

**דוגמאות:**
```
"סנן לפי מעגל פתוח"
"הצג משובי סריקות"
"פתח מיונים לקורס מדריכים"
```

### 📊 דף סטטיסטיקה (עמוד 3)
פקודות לסינון סטטיסטיקות:

#### סינון לפי תיקייה:
- **"תיקיית מטווחים"** או **"ירי"** → מטווחי ירי
- **"תיקיית חטיבה"** או **"הגנה"** → מחלקות ההגנה
- **"תיקיית במבנה"** או **"בניין"** → עבודה במבנה
- **"תיקיית מיונים מדריכים"** → מיונים לקורס מדריכים
- **"תיקיית מיונים"** → מיונים כללי
- **"תיקיית כללי"** → משובים כלליים

#### סינון לפי תרגיל:
- **"תרגיל מעגל פתוח"**
- **"תרגיל מעגל פרוץ"**
- **"תרגיל סריקות"**

#### סינון לפי יישוב:
- **"יישוב [שם היישוב]"** - (צריך לציין את שם היישוב)

#### סינון לפי תפקיד:
- **"סנן תפקיד"** - פותח אפשרות לבחירה

**דוגמאות:**
```
"סנן תיקיית מטווחים"
"הצג תרגיל מעגל פתוח"
"סטטיסטיקה לפי תיקיית חטיבה"
```

### 📚 דף חומר עיוני (עמוד 4)
פקודות לפתיחת חומר עיוני:
- **"פתח מעגל פתוח"** - מציג חומר עיוני על מעגל פתוח
- **"הצג מעגל פרוץ"** - מציג חומר עיוני על מעגל פרוץ
- **"פתח סריקות"** - מציג חומר עיוני על סריקות רחוב
- **"שבע עקרונות"** או **"עקרונות לחימה"** - מציג 7 עקרונות לחימה
- **"סעבל"** או **"עדיפויות"** - מציג סעב"ל

**דוגמאות:**
```
"פתח חומר על מעגל פתוח"
"הצג שבע עקרונות לחימה"
"סעבל"
```

## טיפים לשימוש
1. **דבר בבירור ובקצב נורמלי** - העוזרת מכוונת לעברית
2. **השתמש במילות פעולה** - "פתח", "הצג", "סנן"
3. **בדוק את ההודעה הירוקה** - מציגה מה שזוהה
4. **אם לא עובד** - נסה לנסח את הפקודה אחרת

## פתרון בעיות

### העוזרת לא מגיבה?
1. ודא שנתת הרשאת מיקרופון לדפדפן
2. בדוק שהמיקרופון עובד (Chrome DevTools → Console)
3. רענן את הדף (F5)
4. נסה דפדפן אחר (Chrome מומלץ)

### הפקודות לא עובדות?
1. בדוק שאתה בדף הנכון (העוזרת מגיבה לפקודות רלוונטיות לדף הנוכחי)
2. השתמש במילות מפתח מהרשימה למעלה
3. נסה לנסח את הפקודה בפשטות - "מעגל פתוח" במקום "אני רוצה לפתוח את תרגיל מעגל פתוח"

### הזיהוי לא מדויק?
- דבר לאט ובבירור
- קרב את המיקרופון
- הפחת רעשי רקע
- נסה שוב עם ניסוח שונה

## דיבוג
כל פעולות העוזרת מודפסות ל-Console:
1. פתח Chrome DevTools (F12)
2. עבור לכרטיסיה Console
3. חפש הודעות עם אמוג'י: 🎤 📝 📊 📋 📚

**דוגמת פלט דיבוג:**
```
🎤 Initializing Voice Assistant...
✅ Voice Assistant initialized successfully
📝 Recognized: "מעגל פתוח" (final: true)
⭐ Processing Voice Command: "מעגל פתוח"
🎯 Handling command: "מעגל פתוח" on page 1
📋 Processing exercises command: "מעגל פתוח"
✅ Opening מעגל פתוח
```

## דרישות טכניות
- דפדפן: Chrome/Edge (מומלץ), Firefox, Safari
- הרשאות: מיקרופון
- חיבור: אינטרנט (לזיהוי דיבור)
- שפה: עברית (he-IL)

## מה עושה הקוד מאחורי הקלעים?

### זרימת עבודה:
1. **לחיצה על כפתור** → מפעיל את `_startListening()`
2. **Web Speech API** → מתחיל להקשיב (עברית)
3. **זיהוי מילים** → מעדכן real-time
4. **תוצאה סופית** → מעבד את הפקודה
5. **ניתוב לפי דף** → קורא ל-handler המתאים
6. **ביצוע פעולה** → ניווט/סינון/פתיחה

### קבצים רלוונטיים:
- `lib/voice_assistant.dart` - לוגיקת העוזרת
- `lib/main.dart` - אינטגרציה עם MainScreen
- `_MainScreenState._handleVoiceCommand()` - dispatcher מרכזי
- `VoiceCommandHandler.handleCommand()` - routing לפי דף

---

**צור קשר:** אם יש בעיה, פתח issue או צור קשר עם תמיכה.
